<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>A Simple Workflow for Shiny App • MtreeRing</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- sticky kit --><script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="A Simple Workflow for Shiny App">
<meta property="og:description" content="">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">MtreeRing</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.3</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/app-MtreeRing.html">A Simple Workflow for Shiny App</a>
    </li>
    <li>
      <a href="../articles/detection-MtreeRing.html">MtreeRing: Measuring Tree Ring Width in R</a>
    </li>
    <li>
      <a href="../articles/pith-MtreeRing.html">Measure Tree Rings on Pith Side</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/ropensci/MtreeRing">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>A Simple Workflow for Shiny App</h1>
                        <h4 class="author">Jingning Shi</h4>
            
            <h4 class="date">2019-05-01</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/ropensci/MtreeRing/blob/master/vignettes/app-MtreeRing.Rmd"><code>vignettes/app-MtreeRing.Rmd</code></a></small>
      <div class="hidden name"><code>app-MtreeRing.Rmd</code></div>

    </div>

    
    
<!--require(knitr);require(markdown);knit("MtreeRing_vignette.Rmd")-->
<p>The following command could run a Shiny-based application within the system’s default web browser. The app provides a beginner-friendly graphical interface and supports more flexible mouse-based interactions.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">MtreeRing<span class="op">::</span><span class="kw"><a href="https://www.rdocumentation.org/packages/MtreeRing/topics/ring_app_launch">ring_app_launch</a></span>()</code></pre></div>
<div id="image-upload" class="section level2">
<h2 class="hasAnchor">
<a href="#image-upload" class="anchor"></a>1. Image upload</h2>
<p>Once you launch the app, you can upload tree ring images from local hard disk. A sample image, named <code>001.png</code>, with the resolution of 1200 dpi can be found in the library directory where you install the package. This image can also be downloaded from a GitHub repository (<a href="https://github.com/ropensci/MtreeRing/raw/master/inst/001.png" class="uri">https://github.com/ropensci/MtreeRing/raw/master/inst/001.png</a>). In the following sections, this image is used to demonstrate the ring-width measurement.</p>
<p>You can upload an image with the following steps:</p>
<ol style="list-style-type: decimal">
<li><p>When you start the app, click on the <strong>Image Loading</strong> button in the sidebar (This is the default mode. In most cases, you do not need to do this).</p></li>
<li><p>Click on the <strong>Browse…</strong> button in the <strong>Image Upload</strong> window.</p></li>
<li><p>Choose an image from hard disk.</p></li>
<li><p>Click on the <strong>Load</strong> button.</p></li>
</ol>
</div>
<div id="path-creation" class="section level2">
<h2 class="hasAnchor">
<a href="#path-creation" class="anchor"></a>2. Path creation</h2>
<p>After image uploading, you can click on the <strong>Measurement</strong> button in the sidebar, and it switches content in the main body. The new page has two graphics windows, named <strong>Tree Ring Detection</strong> and <strong>Tree Ring Editing</strong>. These two graphics windows constitute the core of MtreeRing and enable the display of detected tree rings and different types of user-defined markers.</p>
<p>A path creation consists of the following steps:</p>
<ol style="list-style-type: decimal">
<li><p>Enter valid path information, including Series ID, DPI, Sampling year and Y-coordinate of the path.</p></li>
<li><p>Click on the blue “<strong>Create Path</strong>” button at the top left corner of the <strong>Tree Ring Detection</strong>.</p></li>
</ol>
<p>See this example:</p>
<p><img src="img/PathCreation3.gif" width="80%" height="80%"></p>
<p>In the current version, the path is a horizontal dashed line (see Figure 1 above). The path is usually placed at the center of the core sample and is adjustable both in width and color.</p>
</div>
<div id="ring-detection" class="section level2">
<h2 class="hasAnchor">
<a href="#ring-detection" class="anchor"></a>3. Ring detection</h2>
<p>Let’s start by introducing a new action. The Shiny-based app provides a mouse event, called “<strong>brush</strong>”. You can select certain portions of the image by left-clicking the mouse button and dragging the mouse over the graphics window. This action will create a blue rectangle. Here is an example of <strong>brush</strong>.</p>
<p><img src="img/Brush2.gif" width="60%" height="60%"></p>
<p>If ring borders are clearly visible, follow the steps below to detect tree rings:</p>
<ol style="list-style-type: decimal">
<li>
<p>Click on the “<strong>Automation</strong>” button (if this button is not selected).</p>
<p>After clicking on this button, <code>MtreeRing</code> will show a new box at the top right corner of the app. This box provides a series of input controls for image processing, such as morphological operators and different approaches to edge detection.</p>
</li>
<li><p>Create a blue rectangle mentioned above in the first graphics window (<strong>Tree Ring Detection</strong>) by brushing.</p></li>
<li>
<p>Click on the green “<strong>Run Detection</strong>” button.</p>
<p>The app will detect ring borders within the rectangular region. Detected ring borders are placed along the path, and are tagged with years and border numbers. We suggest creating a narrow rectangle to accelerate the detecting process.</p>
</li>
</ol>
<p>See this example:</p>
<p><img src="img/RingDetection2.gif" width="75%" height="75%"></p>
</div>
<div id="edit-tree-rings" class="section level2">
<h2 class="hasAnchor">
<a href="#edit-tree-rings" class="anchor"></a>4. Edit tree rings</h2>
<p>If non-edge pixels are incorrectly detected as ring borders, or the wood sample is not suitable for automatic detection, you may need to mark tree rings manually. In this case, the second graphics window (<strong>Tree Ring Editing</strong>) is used to add (remove) tree ring borders to (from) the image.</p>
<p>You may have noticed that the graphics windows <strong>Tree Ring Editing</strong> has no image. To generate a zoomed-in image in this windows, follow these steps:</p>
<ol style="list-style-type: decimal">
<li><p>Create a blue rectangle in the <strong>Tree Ring Detection</strong> by brushing.</p></li>
<li><p><strong>Double click</strong> on this rectangle, or Click on the blue “<strong>Create Sub-image</strong>” button below.</p></li>
</ol>
<div id="add-tree-rings" class="section level3">
<h3 class="hasAnchor">
<a href="#add-tree-rings" class="anchor"></a>4.1 Add tree rings</h3>
<p>After creating the zoomed-in image, you can add a ring by <strong>double clicking</strong> on the path.</p>
<p>See this example:</p>
<p><img src="img/AddRing2.gif" width="60%" height="60%"></p>
</div>
<div id="remove-tree-rings" class="section level3">
<h3 class="hasAnchor">
<a href="#remove-tree-rings" class="anchor"></a>4.2 Remove tree rings</h3>
<p>Follow these steps to remove tree rings:</p>
<ol style="list-style-type: decimal">
<li><p>Create a rectangle in the <strong>Tree Ring Editing</strong> by brushing.</p></li>
<li>
<p>Click on the red “<strong>Delete Border</strong>” button at the top left corner of the <strong>Tree Ring Editing</strong>.</p>
<p>This operation will delete all ring borders covered by the rectangular region.</p>
</li>
</ol>
<p>See this example:</p>
<p><img src="img/RemoveRing.gif" width="75%" height="75%"></p>
<p>You can also perform a mass deletion of borders using the input control below the <strong>Tree Ring Editing</strong>.</p>
</div>
</div>
<div id="file-download" class="section level2">
<h2 class="hasAnchor">
<a href="#file-download" class="anchor"></a>5. File download</h2>
<p>When the analysis of a sample is complete, you can generate a preview ring-width series by clicking on the blue “<strong>Generate Series</strong>” button at the bottom right corner of the app.</p>
<p>To download a file, click on the <strong>RWL</strong> tab or <strong>CSV</strong> tab. You can provide additional <strong>headers</strong> for the RWL file to record more useful information, such as species, elevation, and site.</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#image-upload">1. Image upload</a></li>
      <li><a href="#path-creation">2. Path creation</a></li>
      <li><a href="#ring-detection">3. Ring detection</a></li>
      <li><a href="#edit-tree-rings">4. Edit tree rings</a></li>
      <li><a href="#file-download">5. File download</a></li>
      </ul>
</div>
      </div>

</div>


      <footer><div class="copyright">
  <p>Developed by Jingning Shi, Wei Xiang.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.</p>
</div>
      </footer>
</div>

  

  </body>
</html>
